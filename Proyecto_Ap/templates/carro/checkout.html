{% extends 'plantillas/base.html' %}
{% load custom_filters %} 

{% block titulo %}Checkout{% endblock %}

{% block contenido %}
<div class="container mt-5">
    <div class="payment-form">
        <h2>Pago seguro</h2>
        <form method="post" action="{% url 'checkout' %}">
          {% csrf_token %}
          <div class="form-group">
              <label for="card-number">Número de tarjeta</label>
              <input type="text" id="card-number" name="card_number" required>
          </div>
          <div class="form-group">
              <label for="expiration-date">Fecha de vencimiento</label>
              <input type="text" id="expiration-date" name="expiration_date" required>
          </div>
          <div class="form-group">
              <label for="security-code">Código de seguridad</label>
              <input type="text" id="security-code" name="security_code" required>
          </div>
          <div class="form-group">
              <label for="card-holder-name">Nombre del titular de la tarjeta</label>
              <input type="text" id="card-holder-name" name="card_holder_name" required>
          </div>
          <div class="form-group">
              <label for="email">Correo electrónico</label>
              <input type="email" id="email" name="email" required>
          </div>
          <h3>Total a pagar: {{ total }}</h3> <!--no funciono :/--> 
          <button type="submit" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#confirmModal">Confirmar pago</button>
      </form>
      
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header" style="justify-content: center;">
        <h5 class="modal-title" id="confirmModalLabel" style="color: black; text-align: center; flex: 1; background-color: white;">Confirmación de Pago</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Muchas gracias por confiar en nuestro trabajo, tu compra ha sido realizada. Te contactaremos por correo electrónico con los detalles del despacho.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>


<style>
    /* Estilo del título */
    h1 {
        text-align: center;
        font-size: 2.5rem;
        background-color: #17a2b8; /* Fondo cyan */
        color: #fff; /* Color del texto blanco */
        padding: 10px; /* Relleno */
        border-radius: 5px; /* Bordes redondeados */
    }

    /* Estilos para la lista de productos */
    .list-group {
        max-width: 600px;
        margin: 0 auto;
    }

    /* Estilos para el precio del producto */
    .list-group-item {
        justify-content: space-between;
    }

    /* Estilos para el botón de proceder al pago */
    .btn-primary {
        display: block;
        width: 200px;
        margin: 20px auto;
    }
</style>
{% endblock %}
